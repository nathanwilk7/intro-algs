<script>
function merge (A, p, q, r) {
  var n1 = q - p + 1;
  var n2 = r - q;
  var L = [];
  var R = [];
  var i = 0;
  for (; i < n1; i++)  {
    L.push(A[p + i]);
  }
  var j = 0;
  for (; j < n2; j++) {
    R.push(A[q + j + 1]);
  }
  L.push(Infinity);
  R.push(Infinity);
  i = 0;
  j = 0;
  for (var k = p; k <= r; k++)  {
    if (L[i] <= R[j]) {
      A[k] = L[i];
      i++;
    }
    else {
      A[k] = R[j];
      j++;
    }
  }
}

function mergesort(A, p, r) {
  if (p < r) {
    var q = Math.floor((p + r) / 2);
    mergesort(A, p, q);
    mergesort(A, q+1, r);
    merge(A, p, q, r);
  }
}

A = [5,2,4,7,1,3,2,6];
p = 0;
r = 7;
mergesort(A, p, r);
console.log(A);
</script>
